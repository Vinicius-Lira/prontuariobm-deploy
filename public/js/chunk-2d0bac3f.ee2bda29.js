(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bac3f"],{3936:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-table",{staticClass:"elevation-1 ma-2",attrs:{headers:t.headers,items:t.desserts,search:t.busca,"sort-by":"calories","footer-props":{"items-per-page-options":[8,10,12,14]}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"5"}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":"",outlined:""},model:{value:t.busca,callback:function(e){t.busca=e},expression:"busca"}})],1)],1)],1),a("snackbar",{attrs:{snackbar:t.snackbar.state,textoSnackbar:t.snackbar.text,color:t.snackbar.color},on:{closeSnackbar:t.closeSnackbar}}),a("div",{staticClass:"flex-grow-1"}),a("nova-pessoa-historico-doencas",{attrs:{dialogAbrir:t.novaPessoa},on:{close:t.closeNovo}}),a("editar-pessoa-historico-doencas",{attrs:{dialogEditar:t.dialogEditar,pessoa:t.pessoaHitoricoDoenca},on:{close:t.closeEditar}}),a("doencas-historico",{attrs:{open:t.openDoencasHistorico,idHistorico:t.idHistorico},on:{close:t.closeDoencasHistorico}}),a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:t._u([{key:"activator",fn:function(e){e.on;return[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary"},on:{click:t.nova}},[t._v("Nova")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})],1)]},proxy:!0},{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.openDialogAddDoencasHistorico(o)}}},[t._v(" mdi-eye ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editarPessoa(o)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(o)}}},[t._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})},i=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Nova Pessoa com histórico de doenças")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-autocomplete",{attrs:{items:t.pacientes,"hide-no-data":"","hide-selected":"","item-text":"nome","item-value":"id",label:"Paciente",rules:[function(t){return!!t||"Obrigatório prencher o paciente!"}],outlined:""},model:{value:t.idPaciente,callback:function(e){t.idPaciente=e},expression:"idPaciente"}})],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.salvar}},[t._v("Salvar")])],1)],1)],1)},r=[],c={data:()=>({idPaciente:null,pacientes:[]}),created(){this.initialize()},computed:{dialog:{get(){return this.dialogAbrir},set(){this.$emit("close",!1)}}},watch:{},props:{dialogAbrir:{type:Boolean}},methods:{initialize(){this.axios.get("https://prontuario6bbm.herokuapp.com/api/pessoa").then(t=>{this.pacientes=t.data})},close(){this.$emit("close",!1)},salvar(){var t={idPessoa:this.idPaciente};this.axios.post("https://prontuario6bbm.herokuapp.com/api/historicoDoenca",t).then(t=>{console.log(t.data),t.data&&this.close()})}}},n=c,l=a("2877"),d=a("6544"),p=a.n(d),u=a("c6a6"),v=a("8336"),h=a("b0af"),m=a("99d9"),b=a("62ad"),g=a("a523"),f=a("169a"),k=a("0fd9"),x=Object(l["a"])(n,s,r,!1,null,null,null),D=x.exports;p()(x,{VAutocomplete:u["a"],VBtn:v["a"],VCard:h["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VCol:b["a"],VContainer:g["a"],VDialog:f["a"],VRow:k["a"]});var V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Editar Pessoa com histórico de doenças")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-autocomplete",{attrs:{items:t.pacientes,"hide-no-data":"","hide-selected":"","item-text":"nome","item-value":"id",label:"Paciente",rules:[function(t){return!!t||"Obrigatório prencher o paciente!"}],outlined:""},model:{value:t.pessoa.idPessoa,callback:function(e){t.$set(t.pessoa,"idPessoa",e)},expression:"pessoa.idPessoa"}})],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.salvar}},[t._v("Salvar")])],1)],1)],1)},C=[],_={data:()=>({idPaciente:null,pacientes:[]}),created(){this.initialize()},computed:{dialog:{get(){return this.dialogEditar},set(){this.$emit("close",!1)}}},watch:{},props:{dialogEditar:{type:Boolean},pessoa:Object},methods:{initialize(){this.axios.get("https://prontuario6bbm.herokuapp.com/api/pessoa").then(t=>{this.pacientes=t.data}),console.log(this.pessoa)},close(){this.$emit("close",!1)},salvar(){var t={id:this.pessoa.id,idPessoa:this.idPaciente};this.axios.put("https://prontuario6bbm.herokuapp.com/api/historicoDoenca",t).then(t=>{console.log(t.data),t.data&&this.close()})}}},w=_,H=Object(l["a"])(w,V,C,!1,null,null,null),P=H.exports;p()(H,{VAutocomplete:u["a"],VBtn:v["a"],VCard:h["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VCol:b["a"],VContainer:g["a"],VDialog:f["a"],VRow:k["a"]});var y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"error"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return t.$emit("close")}}},[a("v-icon",[t._v("mdi-close")])],1),a("v-toolbar-title",[t._v(t._s("Adicionar Doença ao Historico"))]),a("div",{staticClass:"flex-grow-1"}),a("v-toolbar-items")],1),a("v-data-table",{staticClass:"elevation-1 ma-2",attrs:{headers:t.headers,items:t.desserts,search:t.search,"footer-props":{"items-per-page-options":[8,10,12,14]}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"5"}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":"",outlined:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),a("div",{staticClass:"flex-grow-1"}),a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:t._u([{key:"activator",fn:function(e){e.on;return[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary"},on:{click:t.openNovaDoenca}},[t._v("Adicionar")])]}}]),model:{value:t.dialogAddDoencaHistorico,callback:function(e){t.dialogAddDoencaHistorico=e},expression:"dialogAddDoencaHistorico"}},[a("v-card",{scopedSlots:t._u([{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItemDoenca(o)}}},[t._v(" mdi-delete ")])]}}])},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s("Adicionar doença ao histórico"))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("v-text-field",{attrs:{rules:[function(t){return!!t||"Obrigatório prencher a doença!"}],label:"Doença",outlined:""},model:{value:t.editedItem.doenca,callback:function(e){t.$set(t.editedItem,"doenca",e)},expression:"editedItem.doenca"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("v-select",{attrs:{items:t.tiposDoencas,rules:[function(t){return!!t||"Obrigatório prencher o tipo da doença!"}],label:"Tipo doença",outlined:""},model:{value:t.editedItem.tipo,callback:function(e){t.$set(t.editedItem,"tipo",e)},expression:"editedItem.tipo"}})],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeNovaDoenca}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Salvar")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var o=e.item;return[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(o)}}},[t._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)],1)],1)},A=[],I={data:()=>({dialogAddDoencaHistorico:!1,headers:[{text:"Doença",align:"left",sortable:!0,value:"doenca"},{text:"tipo",value:"tipo"},{text:"Ações",value:"action",sortable:!1}],desserts:[],search:"",editedIndex:-1,editedItem:{idHistoricoDoenca:null,doenca:"",tipo:"",createdAt:"",updatedAt:""},defaultItem:{idHistoricoDoenca:null,doenca:"",tipo:"",createdAt:"",updatedAt:""},textoSnackbar:"",color:"success",snackbar:!1,editedIndexValoresReferencia:-1,textoSnackbarDoencas:"",colorDoencas:"success",dialogDoencas:!1,mostraTabelaDoencas:!1,tiposDoencas:["Adiquirida","Familiar","Hereditaria","Transmitida"]}),props:{open:{type:Boolean},idHistorico:{type:Number}},created(){this.initialize()},computed:{dialog:{get(){return this.open},set(){this.$emit("close",!1)}}},watch:{open:function(t){t&&this.initialize()}},methods:{initialize(){this.axios.get("https://prontuario6bbm.herokuapp.com/api/doencasHistorico/"+this.idHistorico).then(t=>{this.desserts=t.data}),this.editedItem=this.defaultItem},closeSnackbar(){this.snackbar=!1},deleteItem(t){this.axios.delete("https://prontuario6bbm.herokuapp.com/api/doencasHistorico/"+t.id+"/delete").then(t=>{t.data?(this.snackbar=!0,this.color="success",this.textoSnackbar="Parâmetro apagado com sucesso!",this.initialize()):(this.snackbar=!0,this.color="error",this.textoSnackbar="Ocorreu um erro ao tentar apagar o registro!")})},openNovaDoenca(){this.dialogAddDoencaHistorico=!0,this.editedItem.doenca="",this.editedItem.tipo=""},closeNovaDoenca(){this.dialogAddDoencaHistorico=!1},close(){this.desserts=[],this.snackbarValoresReferencia=!1,this.$emit("close",!1)},save(){this.editedItem.idHistoricoDoenca=this.idHistorico,console.log(this.editedItem),this.axios.post("https://prontuario6bbm.herokuapp.com/api/doencasHistorico",this.editedItem).then(t=>{t.data&&(this.closeNovaDoenca(),this.initialize())})}}},S=I,T=a("8fea"),z=a("132d"),E=a("b974"),$=a("8654"),O=a("71d9"),N=a("2a7f"),B=Object(l["a"])(S,y,A,!1,null,null,null),j=B.exports;p()(B,{VBtn:v["a"],VCard:h["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VCol:b["a"],VContainer:g["a"],VDataTable:T["a"],VDialog:f["a"],VIcon:z["a"],VRow:k["a"],VSelect:E["a"],VTextField:$["a"],VToolbar:O["a"],VToolbarItems:N["a"],VToolbarTitle:N["b"]});var R={components:{"nova-pessoa-historico-doencas":D,"editar-pessoa-historico-doencas":P,"doencas-historico":j},data:()=>({busca:"",desserts:[],dialog:!1,dialogNovo:!1,dialogEditar:!1,novaPessoa:!1,idHistorico:null,pessoaHitoricoDoenca:[],openDoencasHistorico:!1,snackbar:{text:"",color:"",state:!1},headers:[{text:"Paciente",align:"left",sortable:!0,value:"paciente"},{text:"Ações",value:"action",sortable:!1}],pagination:{rowsPerPage:20},rowsPerPageItems:[8,12,15]}),created(){this.initialize()},methods:{initialize(){this.axios.get("https://prontuario6bbm.herokuapp.com/api/historicoDoenca").then(t=>{this.desserts=t.data})},closeSnackbar(){},closeNovo(){this.novaPessoa=!1,this.initialize()},closeEditar(){this.dialogEditar=!1},nova(){this.novaPessoa=!0},editarPessoa(t){console.log(Object.assign({},t)),this.pessoaHitoricoDoenca=Object.assign({},t),this.dialogEditar=!0},deleteItem(t){this.axios.delete("https://prontuario6bbm.herokuapp.com/api/historicoDoenca/"+t.id+"/delete").then(t=>{t.data&&this.initialize()})},openDialogAddDoencasHistorico(t){this.openDoencasHistorico=!0,this.idHistorico=t.id},closeDoencasHistorico(){this.openDoencasHistorico=!1}}},F=R,J=Object(l["a"])(F,o,i,!1,null,null,null);e["default"]=J.exports;p()(J,{VBtn:v["a"],VCol:b["a"],VContainer:g["a"],VDataTable:T["a"],VDialog:f["a"],VIcon:z["a"],VRow:k["a"],VTextField:$["a"],VToolbar:O["a"]})}}]);
//# sourceMappingURL=chunk-2d0bac3f.ee2bda29.js.map