(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7bf89e72"],{"3fe7":function(e,t,a){"use strict";var s=a("dd3a"),i=a.n(s);i.a},dd3a:function(e,t,a){},fc5f:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-1 ma-2",attrs:{headers:e.headers,items:e.desserts,search:e.search,"footer-props":{"items-per-page-options":[8,10,12,14]}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"5"}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":"",outlined:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1),a("snackbar",{attrs:{textoSnackbar:e.textoSnackbar,color:e.color,snackbar:e.snackbar},on:{closeSnackbar:e.closeSnackbar}}),a("div",{staticClass:"flex-grow-1"}),a("parametros-exame-dialog",{attrs:{dialog:e.dialogParametros,idExame:e.editedItem.id},on:{setFalseDialog:e.closeDialogParametros}}),a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticClass:"mb-2",attrs:{color:"primary"}},s),[e._v("Novo")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Obrigatório prencher o exame!"}],label:"Exame",outlined:""},model:{value:e.editedItem.exame,callback:function(t){e.$set(e.editedItem,"exame",t)},expression:"editedItem.exame"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Obrigatório prencher a descrição!"}],label:"Descrição",outlined:""},model:{value:e.editedItem.descricao,callback:function(t){e.$set(e.editedItem,"descricao",t)},expression:"editedItem.descricao"}})],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Salvar")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var s=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.openDialogParametros(s)}}},[e._v(" mdi-eye ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(s)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(s)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Reset")])]},proxy:!0}])})},i=[],o={data:()=>({dialog:!1,search:"",textoSnackbar:"",color:"success",snackbar:!1,dialogParametros:!1,dialogViewParametros:!1,rowsPerPageItems:[8,12,15],pagination:{rowsPerPage:20},headers:[{text:"Exame",align:"left",sortable:!0,value:"exame"},{text:"Descrição",value:"descricao"},{text:"Ações",value:"action",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{exame:"",descricao:"",createdAt:"",updatedAt:""},defaultItem:{exame:"",descricao:"",createdAt:"",updatedAt:""}}),computed:{formTitle(){return-1===this.editedIndex?"Novo exame":"Editar exame"}},watch:{dialog(e){e||this.close()}},created(){this.initialize()},methods:{initialize(){this.axios.get("https://prontuario6bbm.herokuapp.com/api/exame").then(e=>{this.desserts=e.data})},closeSnackbar(){this.snackbar=!1},openDialogParametros(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogParametros=!0},closeDialogParametros(){this.dialogParametros=!1,this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},editItem(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.axios.delete("https://prontuario6bbm.herokuapp.com/api/exame/"+e.id+"/delete").then(e=>{e.data?(this.snackbar=!0,this.color="success",this.textoSnackbar="Exame apagada com sucesso!",this.initialize()):(this.snackbar=!0,this.color="error",this.textoSnackbar="Ocorreu um erro, o exame parâmetros associado a ele!")})},close(){this.dialog=!1,setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},validaCampos(){return""!=this.editedItem.exame&&""!=this.editedItem.descricao},save(){this.editedIndex>-1?this.axios.put("https://prontuario6bbm.herokuapp.com/api/exame",this.editedItem).then(e=>{e.data?(this.textoSnackbar="Registro atualizado com sucesso!",this.snackbar=!0,this.color="success",this.initialize(),this.close()):(this.snackbar=!0,this.color="error",this.textoSnackbar="Ocorreu um erro ao atualizar!",this.close())}):this.validaCampos()?this.axios.post("https://prontuario6bbm.herokuapp.com/api/exame",this.editedItem).then(e=>{e.data.id?(this.textoSnackbar="Exame inserido com sucesso!",this.snackbar=!0,this.color="success",this.initialize(),this.close()):(this.snackbar=!0,this.color="error",this.textoSnackbar="Ocorreu um erro ao cadastrar!",this.close())}):(this.snackbar=!0,this.color="error",this.textoSnackbar="Existe campos vazios ou incorretos!",this.close())}}},r=o,c=(a("3fe7"),a("2877")),d=a("6544"),n=a.n(d),l=a("8336"),m=a("b0af"),h=a("99d9"),u=a("62ad"),x=a("a523"),b=a("8fea"),p=a("169a"),v=a("132d"),k=a("0fd9"),f=a("8654"),g=a("71d9"),I=Object(c["a"])(r,s,i,!1,null,null,null);t["default"]=I.exports;n()(I,{VBtn:l["a"],VCard:m["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VCol:u["a"],VContainer:x["a"],VDataTable:b["a"],VDialog:p["a"],VIcon:v["a"],VRow:k["a"],VTextField:f["a"],VToolbar:g["a"]})}}]);
//# sourceMappingURL=chunk-7bf89e72.25b68593.js.map