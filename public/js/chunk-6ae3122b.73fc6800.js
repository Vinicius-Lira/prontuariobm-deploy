(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ae3122b"],{"20ec":function(a,t,s){},"47db":function(a,t,s){"use strict";s.r(t);var e=function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("v-data-table",{staticClass:"elevation-1 ma-2",attrs:{headers:a.headers,items:a.desserts,search:a.busca,"sort-by":"calories","footer-props":{"items-per-page-options":[8,10,12,14]}},scopedSlots:a._u([{key:"top",fn:function(){return[s("v-toolbar",{attrs:{flat:"",color:"white"}},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"12",md:"5"}},[s("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":"",outlined:""},model:{value:a.busca,callback:function(t){a.busca=t},expression:"busca"}})],1)],1)],1),s("snackbar",{attrs:{snackbar:a.snackbar.state,textoSnackbar:a.snackbar.text,color:a.snackbar.color},on:{closeSnackbar:a.closeSnackbar}}),s("importa-pessoas",{attrs:{dialogImportar:a.importarPessoas},on:{close:a.closeImportar}}),s("div",{staticClass:"flex-grow-1"}),s("nova-pessoa",{attrs:{dialogNovo:a.dialogNovo,hierarquias:a.hierarquias,obms:a.obms,setores:a.setores,escalas:a.escalas},on:{close:a.closeNovo}}),s("editar-pessoa",{attrs:{dialogEditar:a.dialogEditar,hierarquias:a.hierarquias,obms:a.obms,setores:a.setores,escalas:a.escalas,pessoa:a.pessoa},on:{close:a.closeEditar}}),s("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:a._u([{key:"activator",fn:function(t){t.on;return[s("v-btn",{staticClass:"mb-2",attrs:{color:"primary"},on:{click:a.nova}},[a._v("Nova")]),s("v-btn",{staticClass:"mb-2 btn-importar",attrs:{color:"primary"},on:{click:a.importar}},[a._v("Importar")])]}}]),model:{value:a.dialog,callback:function(t){a.dialog=t},expression:"dialog"}})],1)]},proxy:!0},{key:"item.action",fn:function(t){var e=t.item;return[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return a.editarPessoa(e)}}},[a._v(" mdi-pencil ")]),s("v-icon",{attrs:{small:""},on:{click:function(t){return a.deleteItem(e)}}},[a._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[s("v-btn",{attrs:{color:"primary"},on:{click:a.initialize}},[a._v("Reset")])]},proxy:!0}])})},o=[],i={data:()=>({busca:"",escalas:[],desserts:[],dialog:!1,dialogNovo:!1,dialogEditar:!1,hierarquias:[],importarPessoas:!1,obms:[],setores:[],snackbar:{text:"",color:"",state:!1},headers:[{text:"Nome",align:"left",sortable:!0,value:"nome"},{text:"Matrícula",value:"matricula"},{text:"C.M.S",value:"cartaoMunicipalSus"},{text:"C.N.S",value:"cartaoNacionalSus"},{text:"Sexo",value:"sexo"},{text:"Tipo Sanguíneo",align:"center",value:"tipoSanguineo"},{text:"Ações",value:"action",sortable:!1}],pagination:{rowsPerPage:20},pessoa:new Object,rowsPerPageItems:[8,12,15]}),created(){this.initialize()},methods:{initialize(){this.axios.get("https://prontuario6bbm.herokuapp.com/api/pessoa").then(a=>{this.desserts=a.data;for(var t=0;t<a.data.length;t++)a.data[t].dataNascimento=a.data[t].dataNascimento.split("T")[0].split("-").reverse().join("/"),a.data[t].dataIngresso=a.data[t].dataIngresso.split("T")[0].split("-").reverse().join("/"),1==a.data[t].lts?a.data[t].lts="true":a.data[t].lts="false",1==a.data[t].tipoPessoa?a.data[t].tipoPessoa="true":a.data[t].tipoPessoa="false";this.desserts=a.data}),this.axios.get("https://prontuario6bbm.herokuapp.com/api/hierarquia").then(a=>{this.hierarquias=a.data}),this.axios.get("https://prontuario6bbm.herokuapp.com/api/batalhao").then(a=>{this.obms=a.data}),this.axios.get("https://prontuario6bbm.herokuapp.com/api/setor").then(a=>{this.setores=a.data}),this.axios.get("https://prontuario6bbm.herokuapp.com/api/escala").then(a=>{this.escalas=a.data})},editarPessoa(a){this.pessoa=Object.assign({},a),this.dialogEditar=!0},deleteItem(a){this.axios.delete("https://prontuario6bbm.herokuapp.com/api/pessoa/"+a.id+"/delete").then(a=>{a.data&&(this.snackbar.color="success",this.snackbar.text="Pessoa apagada com sucesso!",this.initialize()),a.data||(this.snackbar.color="error",this.snackbar.text="Ocorreu um erro ao tentar apagar o registro!"),this.snackbar.state=!0})},nova(){this.dialogNovo=!0},importar(){this.importarPessoas=!0},closeImportar(){this.importarPessoas=!1},closeEditar(a){this.dialogEditar=!1,this.snackbar.text=a.text,this.snackbar.color=a.color,this.snackbar.state=a.state,this.initialize()},closeNovo(){this.dialogNovo=!1,this.initialize()},closeSnackbar(){this.snackbar=!1}}},r=i,n=(s("6c2d"),s("2877")),l=s("6544"),c=s.n(l),d=s("8336"),p=s("62ad"),u=s("a523"),h=s("8fea"),b=s("169a"),m=s("132d"),v=s("0fd9"),g=s("8654"),k=s("71d9"),x=Object(n["a"])(r,e,o,!1,null,null,null);t["default"]=x.exports;c()(x,{VBtn:d["a"],VCol:p["a"],VContainer:u["a"],VDataTable:h["a"],VDialog:b["a"],VIcon:m["a"],VRow:v["a"],VTextField:g["a"],VToolbar:k["a"]})},"6c2d":function(a,t,s){"use strict";var e=s("20ec"),o=s.n(e);o.a}}]);
//# sourceMappingURL=chunk-6ae3122b.73fc6800.js.map