(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-187b04d6"],{"1ca3":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-data-table",{staticClass:"elevation-1 ma-2",attrs:{headers:t.headers,items:t.desserts,search:t.search,"footer-props":{"items-per-page-options":[8,10,12,14]}},scopedSlots:t._u([{key:"top",fn:function(){return[e("v-toolbar",{attrs:{flat:"",color:"white"}},[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"12",md:"5"}},[e("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":"",outlined:""},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1)],1)],1),e("v-snackbar",{staticClass:"snackbar",attrs:{bottom:"bottom"===t.y,color:t.color,left:"left"===t.x,"multi-line":"multi-line"===t.mode,right:"right"===t.x,timeout:t.timeout,top:"top"===t.y,vertical:"vertical"===t.mode},model:{value:t.snackbar,callback:function(a){t.snackbar=a},expression:"snackbar"}},[t._v(" "+t._s(t.textoSnackbar)+" "),e("v-btn",{attrs:{dark:"",text:"",icon:""},on:{click:function(a){t.snackbar=!1}}},[e("v-icon",{staticClass:"mr-2",on:{click:function(a){t.snackbar=!1}}},[t._v("mdi-close")])],1)],1),e("div",{staticClass:"flex-grow-1"}),e("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.on;return[e("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary"}},i),[t._v("Novo")])]}}]),model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),e("v-card-text",[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-text-field",{attrs:{rules:[function(t){return!!t||"Obrigatório prencher a abreviação!"}],label:"Abreviação",outlined:""},model:{value:t.editedItem.abreviacao,callback:function(a){t.$set(t.editedItem,"abreviacao",a)},expression:"editedItem.abreviacao"}})],1),e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-text-field",{attrs:{rules:[function(t){return!!t||"Obrigatório prencher a descrição!"}],label:"Descrição",outlined:""},model:{value:t.editedItem.descricao,callback:function(a){t.$set(t.editedItem,"descricao",a)},expression:"editedItem.descricao"}})],1)],1)],1)],1),e("v-card-actions",[e("div",{staticClass:"flex-grow-1"}),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Salvar")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(a){var i=a.item;return[e("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(i)}}},[t._v(" mdi-pencil ")]),e("v-icon",{attrs:{small:""},on:{click:function(a){return t.deleteItem(i)}}},[t._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[e("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})},o=[],s={data:()=>({dialog:!1,search:"",textoSnackbar:"",color:"success",mode:"",snackbar:!1,timeout:6e3,x:null,y:"top",rowsPerPageItems:[8,12,15],pagination:{rowsPerPage:20},headers:[{text:"Abreviação",align:"left",sortable:!0,value:"abreviacao"},{text:"Descrição",value:"descricao"},{text:"Ações",value:"action",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{abreviacao:"",descricao:"",createdAt:"",updatedAt:""},defaultItem:{abreviacao:"",descricao:"",createdAt:"",updatedAt:""}}),computed:{formTitle(){return-1===this.editedIndex?"Novo Batalhão":"Editar Batalhão"}},watch:{dialog(t){t||this.close()}},created(){this.initialize()},methods:{initialize(){this.axios.get("https://prontuario6bbm.herokuapp.com/api/batalhao").then(t=>{this.desserts=t.data})},editItem(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem(t){this.axios.delete("https://prontuario6bbm.herokuapp.com/api/batalhao/"+t.id+"/delete").then(t=>{t.data?(this.snackbar=!0,this.color="success",this.textoSnackbar="Pessoa apagada com sucesso!",this.initialize()):(this.snackbar=!0,this.color="error",this.textoSnackbar="Ocorreu um erro ao tentar apagar o registro!")})},close(){this.dialog=!1,setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},validaCampos(){return""!=this.editedItem.abreviacao&&""!=this.editedItem.descricao},save(){this.editedIndex>-1?this.axios.put("https://prontuario6bbm.herokuapp.com/api/batalhao",this.editedItem).then(t=>{t.data?(this.textoSnackbar="Registro atualizado com sucesso!",this.snackbar=!0,this.color="success",this.initialize(),this.close()):(this.snackbar=!0,this.color="error",this.textoSnackbar="Ocorreu um erro ao atualizar!",this.close())}):this.validaCampos()?this.axios.post("https://prontuario6bbm.herokuapp.com/api/batalhao",this.editedItem).then(t=>{t.data.id?(this.textoSnackbar="Batalhão inserido com sucesso!",this.snackbar=!0,this.color="success",this.initialize(),this.close()):(this.snackbar=!0,this.color="error",this.textoSnackbar="Ocorreu um erro ao cadastrar!",this.close())}):(this.snackbar=!0,this.color="error",this.textoSnackbar="Existe campos vazios ou incorretos!",this.close())}}},r=s,c=(e("f552"),e("2877")),n=e("6544"),l=e.n(n),d=e("8336"),u=e("b0af"),h=e("99d9"),b=e("62ad"),m=e("a523"),v=e("8fea"),p=e("169a"),k=e("132d"),f=e("0fd9"),x=e("2db4"),g=e("8654"),I=e("71d9"),C=Object(c["a"])(r,i,o,!1,null,null,null);a["default"]=C.exports;l()(C,{VBtn:d["a"],VCard:u["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VCol:b["a"],VContainer:m["a"],VDataTable:v["a"],VDialog:p["a"],VIcon:k["a"],VRow:f["a"],VSnackbar:x["a"],VTextField:g["a"],VToolbar:I["a"]})},f552:function(t,a,e){"use strict";var i=e("fa34"),o=e.n(i);o.a},fa34:function(t,a,e){}}]);
//# sourceMappingURL=chunk-187b04d6.c3bfc998.js.map